allprojects {
    apply plugin: 'maven'

    group = 'org.spine3'
    version = '0.1'
}

project.ext {
    PROTOBUF_TARGET_DIR = "target/generated-sources/protobuf"
    PROTOBUF_VERSION = '3.0.0-alpha-3'
}

subprojects {
    apply plugin: 'java'
    sourceCompatibility = 1.7
    targetCompatibility = 1.7

    sourceSets {
        main {
            java.srcDirs = ['src/main/java', project.PROTOBUF_TARGET_DIR]
        }
    }

    repositories {
        mavenLocal()

        maven { url "http://maven.teamdev.com/repository/teamdev-maven/" }
        maven { url "http://repo1.maven.org/maven2" }
        maven { url "http://grahamcox.co.uk/maven2/" }
    }

    dependencies {
        compile group: 'com.google.guava', name: 'guava', version: '18.0'
        compile group: 'com.google.code.findbugs', name: 'jsr305', version: '3.0.0'
        compile group: 'javax.time', name: 'jsr-310-ri', version: '0.6.3'
        compile group: 'javax.time', name: 'jsr-310-TZDB', version: '0.6.3'
        compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.10'
        compile group: 'org.slf4j', name: 'slf4j-jdk14', version: '1.7.10'
        testCompile(group: 'junit', name: 'junit', version: '4.12') {
            exclude(module: 'hamcrest-core')
        }
        testCompile group: 'org.hamcrest', name: 'hamcrest-all', version: '1.3'
    }
}

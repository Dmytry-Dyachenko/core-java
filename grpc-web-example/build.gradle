def appEngineVersion = '1.9.30'

buildscript {
    dependencies {
        classpath "org.spine3.tools:proto-lookup-plugin:1.0"
        classpath 'com.google.appengine:gradle-appengine-plugin:1.9.30'
    }
}

apply plugin: 'war'
apply plugin: 'appengine'

dependencies {
    compile project(path: ':core-java');

    // Currently for StreamObserver interface only
    compile 'io.grpc:grpc-all:0.9.0'

    // Servlet API
    compile 'javax.servlet:servlet-api:2.5'

    // App Engine
    compile "com.google.appengine:appengine-api-1.0-sdk:${appEngineVersion}"
    appengineSdk "com.google.appengine:appengine-java-sdk:${appEngineVersion}"
}

apply plugin: 'org.spine3.tools.protolookup'

appengine {
    httpPort = 8080
    downloadSdk = true

    appcfg {
        noCookies = true
        oauth2 = true
    }
}
